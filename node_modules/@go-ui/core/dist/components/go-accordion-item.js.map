{"file":"go-accordion-item.js","mappings":"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","names":["GoAccordionItem"],"sources":["src/components/go-accordion/go-accordion-item.scss?tag=go-accordion-item","src/components/go-accordion/go-accordion-item.tsx"],"sourcesContent":["go-accordion-item {\n  @include reduced-motion {\n    --go-duration-normal: 0.01s;\n  }\n\n  display: block;\n  .heading {\n    .heading-control {\n      background: var(--heading-bg-color);\n      color: var(--heading-text-color);\n      font-size: var(--heading-font-size, 1rem);\n      border-radius: var(--heading-radius);\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      width: 100%;\n      border: none;\n      padding: var(--heading-padding-y) var(--heading-padding-x);\n      cursor: pointer;\n      @include transition(border-radius);\n      &:hover,\n      &:focus-visible {\n        --heading-bg-color: var(--heading-bg-color-hover);\n        --heading-text-color: var(--heading-fg-color-hover);\n      }\n\n      &:focus-visible {\n        @include focus-outline;\n      }\n    }\n    .arrow {\n      display: block;\n      color: currentColor;\n      @include transition(transform);\n\n      width: 1.5em;\n      height: 1.5em;\n    }\n  }\n  .panel-wrapper {\n    overflow: hidden;\n    max-height: 0;\n    transition: max-height var(--go-duration-normal) var(--go-timing-function);\n    background: var(--panel-bg-color);\n    .panel {\n      border-top-left-radius: 0;\n      border-top-right-radius: 0;\n      overflow: hidden;\n      padding: var(--panel-padding-y) var(--panel-padding-x);\n    }\n  }\n  &.autoHeight {\n    .panel-wrapper {\n      overflow: hidden;\n    }\n  }\n  &.active {\n    > .heading {\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      transition: border-radius 0s;\n      .arrow {\n        transform: rotate(180deg);\n      }\n    }\n    > .panel-wrapper {\n      max-height: var(--body-max-height);\n    }\n  }\n}\n","import { Component, Host, h, Prop, State, Element, Method, Event, EventEmitter } from '@stencil/core';\nimport { hasSlot } from '../../utils/helper';\nimport { uniqueId } from 'lodash-es';\n\n@Component({\n  tag: 'go-accordion-item',\n  styleUrl: 'go-accordion-item.scss',\n  shadow: false,\n})\nexport class GoAccordionItem {\n  @Element() el: HTMLElement;\n\n  /**\n   * Heading text.\n   * This can be overwritten by `heading` slot\n   */\n  @Prop() heading?: string = null;\n\n  /**\n   * The HTML tag to be applied to the heading text.\n   * This can be overwritten by `heading` slot\n   */\n  @Prop() headingTag?: string = 'h3';\n\n  /**\n   * If expanded height should be automatically calculated. If true, the `--go-accordion-item-body-max-height` CSS variable will be set automatically to the content height\n   */\n  @Prop() autoHeight?: boolean = true;\n\n  /**\n   * If the accordion item should be opened by default\n   */\n  @Prop({ reflect: true, mutable: true }) active?: boolean = false;\n\n  @State() hasHeadingSlot: boolean = true;\n  @State() hasArrowSlot: boolean = true;\n\n  panelId: string;\n  headerId: string;\n  panelEl: HTMLElement;\n  animationHeightInterval: number; // number of px per frame of animation change.\n\n  parentGroup: HTMLGoAccordionElement;\n\n  /**\n   * Emitted when accordion item has opened\n   */\n  @Event() opened: EventEmitter;\n\n  /**\n   * Emitted when accordion item started opening\n   */\n  @Event() opening: EventEmitter;\n\n  /**\n   * Emitted when accordion item has closed\n   */\n  @Event() closed: EventEmitter;\n\n  /**\n   * Emitted when accordion item started closing\n   */\n  @Event() closing: EventEmitter;\n\n  componentWillLoad() {\n    this.hasHeadingSlot = hasSlot(this.el, 'heading');\n    this.hasArrowSlot = hasSlot(this.el, 'arrow');\n    this.panelId = uniqueId('go-accordion-item-panel-');\n    this.headerId = uniqueId('go-accordion-item-header-');\n    this.parentGroup = this.el.closest('go-accordion') as HTMLGoAccordionElement;\n  }\n  componentDidLoad() {\n    if (this.autoHeight) {\n      this.panelEl.style.setProperty('--body-max-height', this.panelEl.scrollHeight + 2 + 'px');\n    }\n    this.onTransitionEnd();\n    this.panelEl.addEventListener('transitionstart', () => {\n      this.onTransitionStart();\n    });\n    this.panelEl.addEventListener('transitionend', () => {\n      this.onTransitionEnd();\n    });\n  }\n\n  handleNavigation(key) {\n    if (key === 'ArrowDown') {\n      if (this.el.nextElementSibling) {\n        (this.el.nextElementSibling as HTMLGoAccordionItemElement).focusOnControl();\n      }\n    }\n    if (key === 'ArrowUp') {\n      if (this.el.previousElementSibling) {\n        (this.el.previousElementSibling as HTMLGoAccordionItemElement).focusOnControl();\n      }\n    }\n    if (key === 'Home') {\n      (this.parentGroup.children[0] as HTMLGoAccordionItemElement).focusOnControl();\n    }\n    if (key === 'End') {\n      (this.parentGroup.children[this.parentGroup.children.length - 1] as HTMLGoAccordionItemElement).focusOnControl();\n    }\n  }\n\n  onTransitionEnd() {\n    if (this.active) {\n      this.panelEl.style.overflow = 'auto';\n      this.opened.emit();\n    } else {\n      this.panelEl.style.overflow = 'hidden';\n      this.panelEl.style.visibility = 'hidden';\n      this.closed.emit();\n    }\n  }\n  onTransitionStart() {\n    if (this.active) {\n      this.panelEl.style.visibility = 'visible';\n      this.opening.emit();\n    } else {\n      this.closing.emit();\n    }\n  }\n\n  /**\n   * Toggle open state of accordion item\n   */\n  @Method()\n  async toggle() {\n    if (this.active) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  /**\n   * Closes the accordion item\n   */\n  @Method()\n  async close() {\n    this.active = false;\n  }\n\n  /**\n   * Opens the accordion item.\n   */\n  @Method()\n  async open() {\n    this.active = true;\n  }\n\n  /**\n   * Focus on header control\n   */\n  @Method()\n  async focusOnControl() {\n    (this.el.querySelector('.heading-control') as HTMLElement).focus();\n  }\n\n  render() {\n    const { active, autoHeight, headingTag: HeadingTag, panelId, headerId } = this;\n    return (\n      <Host class={{ active, autoHeight }}>\n        <HeadingTag class=\"heading\">\n          <button\n            id={headerId}\n            class=\"heading-control\"\n            role=\"button\"\n            onClick={() => this.toggle()}\n            onKeyDown={(e) => this.handleNavigation(e.key)}\n            aria-expanded={active ? 'true' : 'false'}\n            aria-controls={panelId}>\n            {this.hasHeadingSlot ? <slot name=\"heading\"></slot> : this.heading}\n            <span class=\"arrow\">\n              {this.hasArrowSlot ? (\n                <slot name=\"arrow\"></slot>\n              ) : (\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  stroke-width=\"2\"\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  viewBox=\"0 0 24 24\"\n                  aria-hidden=\"true\"\n                  focusable=\"false\">\n                  <path d=\"m6 9 6 6 6-6\" />\n                </svg>\n              )}\n            </span>\n          </button>\n        </HeadingTag>\n        <div class=\"panel-wrapper\" role=\"region\" id={panelId} aria-labelledby={headerId} ref={(el) => (this.panelEl = el as HTMLElement)}>\n          <div class=\"panel\">\n            <slot></slot>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"version":3}