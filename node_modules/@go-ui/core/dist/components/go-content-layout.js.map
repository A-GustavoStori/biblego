{"file":"go-content-layout.js","mappings":"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","names":["GoContentLayout"],"sources":["src/patterns/go-content-layout/go-content-layout.scss?tag=go-content-layout","src/patterns/go-content-layout/go-content-layout.tsx"],"sourcesContent":["go-content-layout {\n  --content-container-padding: 2rem 0;\n\n  display: block;\n  .content-container {\n    position: relative;\n    padding: var(--content-container-padding);\n    @include desktop {\n      > .row {\n        align-items: flex-start;\n      }\n      .sticky {\n        position: sticky;\n        top: 0;\n        bottom: 0;\n      }\n    }\n  }\n}\n","import { Component, Host, h, Element, Prop, Method, State, Watch } from '@stencil/core';\nimport { TocProps } from '../../components/go-toc/go-toc';\nimport { INavItem } from '../../interfaces';\nimport { watchDevice } from '../../utils/match-media';\nimport { hasSlot } from '../../utils/helper';\n\nexport type SidebarPosition = 'start' | 'end';\n\nexport interface ContentLayoutProps {\n  pageHeading: string;\n  preHeading?: string;\n  intro?: string;\n  breadcrumbs?: INavItem[] | string;\n  heroImgSrc?: string;\n  heroImgAlt?: string;\n  toc?: boolean;\n  tocProps?: TocProps;\n  sidebarMobilePosition?: SidebarPosition;\n  sidebarDesktopPosition?: SidebarPosition;\n}\n\n/**\n * @slot intro - Hero section intro text\n * @slot main - Main section\n */\n@Component({\n  tag: 'go-content-layout',\n  styleUrl: 'go-content-layout.scss',\n  shadow: false,\n})\nexport class GoContentLayout implements ContentLayoutProps {\n  @Element() el: HTMLElement;\n\n  @Prop() pageHeading: string;\n\n  @Prop() preHeading?: string;\n\n  @Prop() intro?: string;\n\n  @Prop() breadcrumbs?: INavItem[] | string;\n\n  @Prop() heroImgSrc?: string;\n\n  @Prop() heroImgAlt?: string;\n\n  /**\n   * no hero banner\n   */\n  @Prop() noHero?: boolean = false;\n\n  /**\n   * If the \"On this page\" table of content section should be displayed\n   */\n  @Prop() toc?: boolean;\n  /**\n   * Props to pass into the table of content ([see `go-toc` props](/docs/components/go-toc#go-toc-props))\n   */\n  @Prop() tocProps?: TocProps;\n  /**\n   * sidebar position on mobile screens\n   * possible values are `start` and `end`\n   */\n  @Prop() sidebarMobilePosition?: SidebarPosition = 'start';\n\n  /**\n   * sidebar position on desktop screens\n   * possible values are `start` and `end`\n   */\n  @Prop() sidebarDesktopPosition?: SidebarPosition = 'start';\n\n  /**\n   * If sidebar should be sticky\n   */\n  @Prop() sidebarSticky? = false;\n  tocEl: HTMLGoTocElement;\n\n  sidebarTemplate: HTMLElement;\n\n  sidebarContainerStart: HTMLElement;\n  sidebarContainerEnd: HTMLElement;\n\n  @Method()\n  async initToc() {\n    if (this.tocEl) {\n      await this.tocEl.init();\n    }\n  }\n\n  @State() computedSidebarPosition: SidebarPosition | null = null;\n  hasSidebar = false;\n  async componentWillLoad() {\n    this.hasSidebar = hasSlot(this.el, 'sidebar');\n    // add resize observer to toggle between mobile and desktop\n    watchDevice((device) => {\n      const { sidebarMobilePosition, sidebarDesktopPosition } = this;\n      const deviceSidebarPosition = {\n        mobile: sidebarMobilePosition,\n        tablet: sidebarMobilePosition,\n        desktop: sidebarDesktopPosition,\n        large: sidebarDesktopPosition,\n      };\n\n      this.computedSidebarPosition = deviceSidebarPosition[device];\n    });\n  }\n\n  rowEl: HTMLElement;\n\n  @Watch('computedSidebarPosition')\n  adjustSidebarPosition(pos: SidebarPosition | null) {\n    if (!this.hasSidebar || !this.sidebarTemplate) {\n      return;\n    }\n    const tempSidebar = this.sidebarTemplate;\n    tempSidebar.style.display = 'block';\n    tempSidebar.setAttribute('aria-hidden', 'false');\n    if (pos === 'start') {\n      this.sidebarContainerStart.appendChild(tempSidebar);\n    } else {\n      this.sidebarContainerEnd?.appendChild(tempSidebar);\n    }\n  }\n\n  componentDidLoad() {\n    this.initToc();\n  }\n\n  render() {\n    const { pageHeading, intro, preHeading, breadcrumbs, toc, tocProps, hasSidebar, computedSidebarPosition, sidebarSticky: sticky, noHero } = this;\n\n    const classes = {\n      start:\n        computedSidebarPosition === 'start'\n          ? {\n              'content-sidebar col-12 col-desktop-3': true,\n              sticky,\n            }\n          : null,\n      end:\n        computedSidebarPosition === 'end'\n          ? {\n              'content-sidebar col-12 col-desktop-3 offset-desktop-1': true,\n              sticky,\n            }\n          : null,\n    };\n\n    return (\n      <Host>\n        <div ref={(el) => (this.sidebarTemplate = el)} id=\"sidebar-template\" aria-hidden={true} style={{ display: 'none' }}>\n          <div class={{ 'content-sidebar': true, sticky }}>\n            {toc && <go-toc {...tocProps} ref={(el) => (this.tocEl = el)}></go-toc>}\n            <slot name=\"sidebar\"></slot>\n          </div>\n        </div>\n        {!noHero && (\n          <go-hero breadcrumbs={breadcrumbs} preHeading={preHeading} heading={pageHeading}>\n            <slot name=\"full-width-bg\"></slot>\n            <slot name=\"intro\">\n              <p>{intro}</p>\n            </slot>\n          </go-hero>\n        )}\n        <div class=\"container content-container\">\n          <div class=\"row\">\n            {hasSidebar && <aside ref={(el) => (this.sidebarContainerStart = el)} class={classes.start}></aside>}\n            <main\n              class={{\n                'col-12 col-desktop-8 content-main': true,\n                'offset-desktop-1': hasSidebar && computedSidebarPosition === 'start',\n              }}>\n              {!hasSidebar && toc && <go-toc {...tocProps} ref={(el) => (this.tocEl = el)}></go-toc>}\n              <slot></slot>\n            </main>\n            {hasSidebar && <aside ref={(el) => (this.sidebarContainerEnd = el)} class={classes.end}></aside>}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"version":3}