{"file":"go-ui-md-plugin.js","mappings":"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","names":["mdContainer","iterator"],"sources":["../../node_modules/.pnpm/markdown-it-for-inline@0.1.1/node_modules/markdown-it-for-inline/index.js","../../node_modules/.pnpm/markdown-it-container@3.0.0/node_modules/markdown-it-container/index.js","src/utils/go-ui-md-plugin.ts"],"sourcesContent":["'use strict';\n\n\nmodule.exports = function for_inline_plugin(md, ruleName, tokenType, iteartor) {\n\n  function scan(state) {\n    var i, blkIdx, inlineTokens;\n\n    for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n      if (state.tokens[blkIdx].type !== 'inline') {\n        continue;\n      }\n\n      inlineTokens = state.tokens[blkIdx].children;\n\n      for (i = inlineTokens.length - 1; i >= 0; i--) {\n        if (inlineTokens[i].type !== tokenType) {\n          continue;\n        }\n\n        iteartor(inlineTokens, i);\n      }\n    }\n  }\n\n  md.core.ruler.push(ruleName, scan);\n};\n","// Process block-level custom containers\n//\n'use strict';\n\n\nmodule.exports = function container_plugin(md, name, options) {\n\n  // Second param may be useful if you decide\n  // to increase minimal allowed marker length\n  function validateDefault(params/*, markup*/) {\n    return params.trim().split(' ', 2)[0] === name;\n  }\n\n  function renderDefault(tokens, idx, _options, env, slf) {\n\n    // add a class to the opening tag\n    if (tokens[idx].nesting === 1) {\n      tokens[idx].attrJoin('class', name);\n    }\n\n    return slf.renderToken(tokens, idx, _options, env, slf);\n  }\n\n  options = options || {};\n\n  var min_markers = 3,\n      marker_str  = options.marker || ':',\n      marker_char = marker_str.charCodeAt(0),\n      marker_len  = marker_str.length,\n      validate    = options.validate || validateDefault,\n      render      = options.render || renderDefault;\n\n  function container(state, startLine, endLine, silent) {\n    var pos, nextLine, marker_count, markup, params, token,\n        old_parent, old_line_max,\n        auto_closed = false,\n        start = state.bMarks[startLine] + state.tShift[startLine],\n        max = state.eMarks[startLine];\n\n    // Check out the first character quickly,\n    // this should filter out most of non-containers\n    //\n    if (marker_char !== state.src.charCodeAt(start)) { return false; }\n\n    // Check out the rest of the marker string\n    //\n    for (pos = start + 1; pos <= max; pos++) {\n      if (marker_str[(pos - start) % marker_len] !== state.src[pos]) {\n        break;\n      }\n    }\n\n    marker_count = Math.floor((pos - start) / marker_len);\n    if (marker_count < min_markers) { return false; }\n    pos -= (pos - start) % marker_len;\n\n    markup = state.src.slice(start, pos);\n    params = state.src.slice(pos, max);\n    if (!validate(params, markup)) { return false; }\n\n    // Since start is found, we can report success here in validation mode\n    //\n    if (silent) { return true; }\n\n    // Search for the end of the block\n    //\n    nextLine = startLine;\n\n    for (;;) {\n      nextLine++;\n      if (nextLine >= endLine) {\n        // unclosed block should be autoclosed by end of document.\n        // also block seems to be autoclosed by end of parent\n        break;\n      }\n\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent) {\n        // non-empty line with negative indent should stop the list:\n        // - ```\n        //  test\n        break;\n      }\n\n      if (marker_char !== state.src.charCodeAt(start)) { continue; }\n\n      if (state.sCount[nextLine] - state.blkIndent >= 4) {\n        // closing fence should be indented less than 4 spaces\n        continue;\n      }\n\n      for (pos = start + 1; pos <= max; pos++) {\n        if (marker_str[(pos - start) % marker_len] !== state.src[pos]) {\n          break;\n        }\n      }\n\n      // closing code fence must be at least as long as the opening one\n      if (Math.floor((pos - start) / marker_len) < marker_count) { continue; }\n\n      // make sure tail has spaces only\n      pos -= (pos - start) % marker_len;\n      pos = state.skipSpaces(pos);\n\n      if (pos < max) { continue; }\n\n      // found!\n      auto_closed = true;\n      break;\n    }\n\n    old_parent = state.parentType;\n    old_line_max = state.lineMax;\n    state.parentType = 'container';\n\n    // this will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine;\n\n    token        = state.push('container_' + name + '_open', 'div', 1);\n    token.markup = markup;\n    token.block  = true;\n    token.info   = params;\n    token.map    = [ startLine, nextLine ];\n\n    state.md.block.tokenize(state, startLine + 1, nextLine);\n\n    token        = state.push('container_' + name + '_close', 'div', -1);\n    token.markup = state.src.slice(start, pos);\n    token.block  = true;\n\n    state.parentType = old_parent;\n    state.lineMax = old_line_max;\n    state.line = nextLine + (auto_closed ? 1 : 0);\n\n    return true;\n  }\n\n  md.block.ruler.before('fence', 'container_' + name, container, {\n    alt: [ 'paragraph', 'reference', 'blockquote', 'list' ]\n  });\n  md.renderer.rules['container_' + name + '_open'] = render;\n  md.renderer.rules['container_' + name + '_close'] = render;\n};\n","import type MarkdownIt from 'markdown-it';\nimport iterator from 'markdown-it-for-inline';\nimport mdContainer from 'markdown-it-container';\n\n// add go-ui markdown renderer\nexport function goUiPlugin(md: MarkdownIt): void {\n  // banner\n  const bannerOptions = ['info', 'critical', 'success'];\n  bannerOptions.forEach((type) => {\n    md.use(mdContainer, type, {\n      render: function (tokens, idx) {\n        const regex = new RegExp(`^${type}\\\\s+(.*)$`, '');\n        var m = tokens[idx].info.trim().match(regex);\n        if (tokens[idx].nesting === 1) {\n          // opening tag\n          const headingAttr = m && m[1] ? ` heading=\"${m[1]}\"` : ``;\n          return `<go-banner variant=\"${type}\" ${headingAttr}>\\n`;\n        } else {\n          // closing tag\n          return '</go-banner>\\n';\n        }\n      },\n    });\n  });\n  // links\n  md.use(iterator, 'go-link', 'link_open', function (tokens, idx) {\n    // Make sure link contains only text\n    if (tokens[idx + 2].type !== 'link_close' || tokens[idx + 1].type !== 'text') {\n      return;\n    }\n    // Do replacement\n    tokens[idx].tag = 'go-link';\n    tokens[idx + 2].tag = 'go-link';\n  });\n}\n"],"version":3}