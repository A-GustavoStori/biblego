import{r as t,c as a,h as i,H as o,g as r}from"./p-02398fa0.js";const e={normal:"normal",start:"flex-start",end:"flex-end",center:"center",between:"space-between",around:"space-around",evenly:"space-evenly",stretch:"stretch"};const s="go-tablist{--tab-padding:0.5rem 1rem;--tab-bg-color:transparent;--tab-hover-bg-color:var(--go-color-neutral-200);--tab-text-color:var(--go-color-neutral-800);--tab-hover-text-color:var(--go-color-neutral-900);--tab-focus-color:var(--go-color-primary-600);--tab-active-color:var(--go-color-primary-600);--tab-active-bg-color:transparent;--tab-border-width:0.2em;--tab-active-indicator-color:var(--tab-active-color);--tabs-active-indicator-width:0;--tabs-active-indicator-height:0.2em;--tabs-active-indicator-color:var(--tab-active-color);--tab-icon-gap:0.5rem}go-tablist [role=tablist]{overflow:auto;display:flex;flex-wrap:nowrap;width:100%;position:relative}go-tablist [role=tab]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--tab-icon-gap);padding:var(--tab-padding);border:var(--tab-border-width) solid transparent;white-space:nowrap;background:var(--tab-bg-color);color:var(--tab-text-color);font-weight:500;transition:background-color var(--go-duration-normal) var(--go-timing-function), color var(--go-duration-normal) var(--go-timing-function)}@media (min-width: 600px){go-tablist [role=tab]{flex-direction:row}}@media (prefers-reduced-motion: reduce){go-tablist [role=tab]{transition-duration:0s}}go-tablist [role=tab] .go-tab-icon-slot svg,go-tablist [role=tab] .go-tab-icon-slot img{display:block}go-tablist [role=tab] .go-tab-icon-active{display:none}go-tablist [role=tab]:hover,go-tablist [role=tab]:focus{color:var(--tab-hover-text-color);background:var(--tab-hover-bg-color)}go-tablist [role=tab]:not(.active){cursor:pointer}go-tablist [role=tab][aria-selected=true]{background:var(--tab-active-bg-color);color:var(--tab-active-color);text-decoration:none}go-tablist [role=tab][aria-selected=true].has-active-icon .go-tab-icon{display:none}go-tablist [role=tab][aria-selected=true] .go-tab-icon-active{display:block}go-tablist .tabs-active-indicator-track{position:absolute;width:100%;bottom:0;left:0;right:0}go-tablist .tabs-active-indicator-track .tabs-active-indicator{transition:transform var(--go-duration-normal) var(--go-timing-function), width var(--go-duration-normal) var(--go-timing-function), height var(--go-duration-normal) var(--go-timing-function);transform:translateX(var(--tabs-active-indicator-left));width:var(--tabs-active-indicator-width);height:var(--tabs-active-indicator-height);border-radius:var(--radius-round);background:var(--tabs-active-indicator-color)}@media (prefers-reduced-motion: reduce){go-tablist .tabs-active-indicator-track .tabs-active-indicator{transition-duration:0s}}go-tablist.vertical{flex-direction:row}go-tablist.vertical [role=tablist]{flex-direction:column}go-tablist.vertical [role=tablist] .tabs-active-indicator-track{width:auto;top:0;left:auto}go-tablist.vertical [role=tablist] .tabs-active-indicator-track .tabs-active-indicator{--tabs-active-indicator-width:0.25rem;transform:translateY(var(--tabs-active-indicator-top))}go-tablist.vertical [role=tab]{text-align:start;white-space:normal}go-tablist.vertical [role=tab]:focus-visible{border-top-color:transparent;border-left-color:var(--tab-focus-color)}go-tablist.fill [role=tablist]{width:100%}go-tablist.fill [role=tab]{flex:1}:where([color-scheme=dark],[data-theme=dark]) go-tablist{--tab-text-color:var(--go-color-neutral-700);--tab-hover-bg-color:var(--go-color-neutral-200);--tab-hover-text-color:var(--go-color-darkest);--tab-active-color:var(--go-color-primary-800)}";const c=s;const n=class{constructor(i){t(this,i);this.activated=a(this,"activated",7);this.activeIndex=-1;this.tabEls=[];this.direction={ArrowUp:-1,ArrowLeft:-1,ArrowDown:1,ArrowRight:1};this.vertical=false;this.label=undefined;this.auto=false;this.bottom=false;this.fill=false;this.items=undefined;this.justify="normal";this.activeTabRect=undefined;this.tabsState=undefined}componentWillLoad(){this.loadItemsState()}loadItemsState(){var t;if(!((t=this.items)===null||t===void 0?void 0:t.length)){return}this.tabsState=[...this.items]}componentDidLoad(){var t;if(!((t=this.tabsState)===null||t===void 0?void 0:t.length)){return}this.activeIndex=this.tabsState.findIndex((t=>t.active));requestAnimationFrame((()=>{this.activeTabRect=this.tabEls[this.activeIndex].getBoundingClientRect();this.tabsState.forEach(((t,a)=>{if(!t.iconSlot&&!t.iconActiveSlot){return}const i=document.createElement("span");i.classList.add("go-tab-icon-slot");if(t.iconSlot)i.append(t.iconSlot);if(t.iconActiveSlot)i.append(t.iconActiveSlot);if(t.iconPosition==="before"){this.tabEls[a].prepend(i)}if(t.iconPosition==="after"){this.tabEls[a].append(i)}}))}))}deactivateTabs(){this.tabsState=this.tabsState.map((t=>Object.assign(Object.assign({},t),{active:false})))}async activateTab(t,a=true,i=false){if(t.getAttribute("aria-selected")==="true"&&i){this.activated.emit({index:this.activeIndex,tabEl:t});return}this.deactivateTabs();const o=t.getAttribute("id");this.tabsState=this.tabsState.map(((t,a)=>{if(t.tabId===o){this.activeIndex=a;return Object.assign(Object.assign({},t),{active:true})}return t}));if(a){t.focus()}this.activated.emit({index:this.activeIndex,tabEl:t});requestAnimationFrame((()=>{this.activeTabRect=t.getBoundingClientRect()}))}onTabClick(t){this.activateTab(this.tabEls[t])}focusFirstTab(){this.tabEls[0].focus()}focusLastTab(){this.tabEls[this.tabEls.length-1].focus()}activateFirstTab(){this.activateTab(this.tabEls[0])}activateLastTab(){this.activateTab(this.tabEls[this.tabEls.length-1])}onKeydown(t){const a=t.code;switch(a){case"End":t.preventDefault();if(!this.auto){this.focusLastTab()}else{this.activateLastTab()}break;case"Home":t.preventDefault();if(!this.auto){this.focusFirstTab()}else{this.activateFirstTab()}break;case"ArrowUp":case"ArrowDown":if(this.vertical){t.preventDefault();this.switchTabOnArrowPress(t)}break;case"ArrowLeft":case"ArrowRight":t.preventDefault();this.switchTabOnArrowPress(t);break}}switchTabOnArrowPress(t){var a=t.code;const i=this.tabEls.findIndex((a=>t.target.isSameNode(a)));if(this.direction[a]&&i!==-1){const t=i+this.direction[a];if(this.tabEls[t]){if(!this.auto){this.tabEls[t].focus();return}this.activateTab(this.tabEls[t]);return}if(a==="ArrowLeft"||a==="ArrowUp"){if(!this.auto){this.focusLastTab();return}this.activateLastTab();return}if(a==="ArrowRight"||a=="ArrowDown"){if(!this.auto){this.focusFirstTab();return}this.activateFirstTab();return}}}render(){const{label:t,tabsState:a,vertical:r,tablistEl:s,activeTabRect:c,justify:n,fill:l}=this;const d=(s===null||s===void 0?void 0:s.scrollLeft)||0;const b=(s===null||s===void 0?void 0:s.scrollTop)||0;const v=s===null||s===void 0?void 0:s.getBoundingClientRect();const h=d-(v===null||v===void 0?void 0:v.left)||0;const u=b-(v===null||v===void 0?void 0:v.top)||0;return i(o,{key:"a0cf0f48424e888c2acd327f0fe8cba77ec2edc4",class:{vertical:r,fill:l},style:r?{"--tabs-active-indicator-top":`${(c===null||c===void 0?void 0:c.top)+u||0}px`,"--tabs-active-indicator-height":`${(c===null||c===void 0?void 0:c.height)||0}px`}:{"--tabs-active-indicator-left":`${(c===null||c===void 0?void 0:c.left)+h||0}px`,"--tabs-active-indicator-width":`${(c===null||c===void 0?void 0:c.width)||0}px`}},i("div",{key:"23489fad7ad487664e3d6c6068b4d6fc52406a58",role:"tablist",ref:t=>this.tablistEl=t,"aria-label":t,"aria-orientation":r?"vertical":undefined,style:{"justify-content":e[n]}},a?a.map(((t,a)=>i("button",{type:"button",role:"tab","aria-selected":t.active?"true":"false",tabindex:t.active?undefined:"-1","aria-controls":t.panelId,id:t.tabId,onClick:()=>this.onTabClick(a),onKeyDown:t=>this.onKeydown(t),key:a,class:{active:t.active,"has-active-icon":!!t.iconActiveSlot},ref:t=>this.tabEls.push(t)},i("span",{class:{"visually-hidden":t.iconOnly}},t.label)))):null,i("div",{key:"81edcc863b34a65ee84f2bd4372d872f818a2973",class:"tabs-active-indicator-track","aria-hidden":"true"},i("div",{key:"b4712cd3de03b8dd16b9360ac47ba2461f46a818",class:"tabs-active-indicator"}))))}get el(){return r(this)}static get watchers(){return{items:["loadItemsState"]}}};n.style=c;export{n as go_tablist};
//# sourceMappingURL=p-e12538a0.entry.js.map