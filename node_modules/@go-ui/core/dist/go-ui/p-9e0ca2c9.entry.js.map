{"version":3,"names":["goLinkCss","GoLinkStyle0","GoLink","this","attrs","componentWillLoad","checkExternal","inheritAttributes","el","checkNewTab","isNewTab","target","href","isExternal","isExternalURL","url","startsWith","tmp","document","createElement","host","window","location","remove","render","expandClickableArea","classes","push","linkAttrs","Object","assign","class","join","h","key","xmlns","viewBox","d","fill"],"sources":["src/components/go-link/go-link.scss?tag=go-link","src/components/go-link/go-link.tsx"],"sourcesContent":["go-link {\n  .external-link-icon {\n    height: 0.9em;\n    fill: currentColor;\n    transform: translate(10%, 15%);\n    margin-left: 0.25em;\n  }\n\n  .expand {\n    &::after {\n      content: '';\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n    }\n  }\n}\n","import { Component, h, Element, State, Prop, Watch } from '@stencil/core';\nimport { inheritAttributes } from '../../utils/helper';\n\n// 1. check cross domain and add target=\"_blank\" + rel=\"noopener noreferrer\"\n// 2. check target=\"_blank\" and add visual + screen reader queues\n@Component({\n  tag: 'go-link',\n  styleUrl: 'go-link.scss',\n  shadow: false,\n})\nexport class GoLink {\n  @Element() el: HTMLElement;\n\n  /**\n   * The `href` of the link.\n   */\n  @Prop() href: string;\n\n  /**\n   * The `target` of the link.\n   */\n  @Prop() target?: '_blank' | '_self' | '_parent' | '_top';\n\n  @Prop() expandClickableArea?: boolean = false;\n\n  // Store attributes inherited from the host element\n  private attrs = {};\n  componentWillLoad() {\n    this.checkExternal();\n    this.attrs = inheritAttributes(this.el, ['href', 'target', 'expand-clickable-area']);\n  }\n\n  @State() isExternal: boolean = false;\n\n  @State() isNewTab: boolean = false;\n\n  @Watch('target')\n  checkNewTab() {\n    this.isNewTab = this.target === '_blank';\n  }\n\n  @Watch('href')\n  checkExternal() {\n    if (!this.href) {\n      return;\n    }\n    this.isExternal = this.isExternalURL(this.href);\n    if (this.isExternal) {\n      this.isNewTab = true;\n    }\n  }\n\n  private isExternalURL(url: string): boolean {\n    if (url.startsWith('#')) {\n      return false;\n    }\n    const tmp = document.createElement('a');\n    tmp.href = url;\n    const isExternal = tmp.host !== window.location.host;\n    tmp.remove();\n    return isExternal;\n  }\n\n  render() {\n    const { href, target, attrs, isExternal, isNewTab, expandClickableArea } = this;\n\n    let classes = ['go-link'];\n    if (attrs['class']) {\n      classes.push(attrs['class']);\n    }\n    if (expandClickableArea) {\n      classes.push('expand');\n    }\n    let linkAttrs = {\n      ...attrs,\n      href,\n      class: classes.join(' '),\n      target: isExternal || isNewTab ? '_blank' : target,\n    };\n\n    return (\n      <a {...linkAttrs}>\n        <slot></slot>\n        {isExternal || isNewTab\n          ? [\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" aria-hidden=\"true\" class=\"external-link-icon\">\n                <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n                <path d=\"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\" />\n              </svg>,\n              <span class=\"visually-hidden\">Opens in new a tab or window</span>,\n            ]\n          : null}\n      </a>\n    );\n  }\n}\n"],"mappings":"sIAAA,MAAMA,EAAY,iMAClB,MAAAC,EAAeD,E,MCSFE,EAAM,M,yBAgBTC,KAAAC,MAAQ,G,mEAHwB,M,gBAST,M,cAEF,K,CAP7B,iBAAAC,GACEF,KAAKG,gBACLH,KAAKC,MAAQG,EAAkBJ,KAAKK,GAAI,CAAC,OAAQ,SAAU,yB,CAQ7D,WAAAC,GACEN,KAAKO,SAAWP,KAAKQ,SAAW,Q,CAIlC,aAAAL,GACE,IAAKH,KAAKS,KAAM,CACd,M,CAEFT,KAAKU,WAAaV,KAAKW,cAAcX,KAAKS,MAC1C,GAAIT,KAAKU,WAAY,CACnBV,KAAKO,SAAW,I,EAIZ,aAAAI,CAAcC,GACpB,GAAIA,EAAIC,WAAW,KAAM,CACvB,OAAO,K,CAET,MAAMC,EAAMC,SAASC,cAAc,KACnCF,EAAIL,KAAOG,EACX,MAAMF,EAAaI,EAAIG,OAASC,OAAOC,SAASF,KAChDH,EAAIM,SACJ,OAAOV,C,CAGT,MAAAW,GACE,MAAMZ,KAAEA,EAAID,OAAEA,EAAMP,MAAEA,EAAKS,WAAEA,EAAUH,SAAEA,EAAQe,oBAAEA,GAAwBtB,KAE3E,IAAIuB,EAAU,CAAC,WACf,GAAItB,EAAM,SAAU,CAClBsB,EAAQC,KAAKvB,EAAM,S,CAErB,GAAIqB,EAAqB,CACvBC,EAAQC,KAAK,S,CAEf,IAAIC,EAASC,OAAAC,OAAAD,OAAAC,OAAA,GACR1B,GAAK,CACRQ,OACAmB,MAAOL,EAAQM,KAAK,KACpBrB,OAAQE,GAAcH,EAAW,SAAWC,IAG9C,OACEsB,EAAA,IAAAJ,OAAAC,OAAA,CAAAI,IAAA,4CAAON,GACLK,EAAA,QAAAC,IAAA,6CACCrB,GAAcH,EACX,CACEuB,EAAA,OAAKE,MAAM,6BAA6BC,QAAQ,YAAW,cAAa,OAAOL,MAAM,sBACnFE,EAAA,QAAMI,EAAE,gBAAgBC,KAAK,SAC7BL,EAAA,QAAMI,EAAE,wIAEVJ,EAAA,QAAMF,MAAM,mBAAiB,iCAE/B,K"}