import{r as e,c as t,h as o,H as n,g as i}from"./p-02398fa0.js";import{i as r}from"./p-6ccc0475.js";import{d as a}from"./p-42cfbc6e.js";import"./p-4b4ba6fd.js";import"./p-2acfdb5a.js";function s(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++){o[t]=e[t]}return o}else{return Array.from(e)}}var d=false;if(typeof window!=="undefined"){var c={get passive(){d=true;return undefined}};window.addEventListener("testPassive",null,c);window.removeEventListener("testPassive",null,c)}var u=typeof window!=="undefined"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);var l=[];var f=false;var v=-1;var h=void 0;var m=void 0;var y=void 0;var g=function e(t){return l.some((function(e){if(e.options.allowTouchMove&&e.options.allowTouchMove(t)){return true}return false}))};var w=function e(t){var o=t||window.event;if(g(o.target)){return true}if(o.touches.length>1)return true;if(o.preventDefault)o.preventDefault();return false};var p=function e(t){if(y===undefined){var o=!!t&&t.reserveScrollBarGap===true;var n=window.innerWidth-document.documentElement.clientWidth;if(o&&n>0){var i=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);y=document.body.style.paddingRight;document.body.style.paddingRight=i+n+"px"}}if(h===undefined){h=document.body.style.overflow;document.body.style.overflow="hidden"}};var b=function e(){if(y!==undefined){document.body.style.paddingRight=y;y=undefined}if(h!==undefined){document.body.style.overflow=h;h=undefined}};var k=function e(){return window.requestAnimationFrame((function(){if(m===undefined){m={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,o=e.scrollX,n=e.innerHeight;document.body.style.position="fixed";document.body.style.top=-t;document.body.style.left=-o;setTimeout((function(){return window.requestAnimationFrame((function(){var e=n-window.innerHeight;if(e&&t>=n){document.body.style.top=-(t+e)}}))}),300)}}))};var x=function e(){if(m!==undefined){var t=-parseInt(document.body.style.top,10);var o=-parseInt(document.body.style.left,10);document.body.style.position=m.position;document.body.style.top=m.top;document.body.style.left=m.left;window.scrollTo(o,t);m=undefined}};var j=function e(t){return t?t.scrollHeight-t.scrollTop<=t.clientHeight:false};var A=function e(t,o){var n=t.targetTouches[0].clientY-v;if(g(t.target)){return false}if(o&&o.scrollTop===0&&n>0){return w(t)}if(j(o)&&n<0){return w(t)}t.stopPropagation();return true};var I=function e(t,o){if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(l.some((function(e){return e.targetElement===t}))){return}var n={targetElement:t,options:o||{}};l=[].concat(s(l),[n]);if(u){k()}else{p(o)}if(u){t.ontouchstart=function(e){if(e.targetTouches.length===1){v=e.targetTouches[0].clientY}};t.ontouchmove=function(e){if(e.targetTouches.length===1){A(e,t)}};if(!f){document.addEventListener("touchmove",w,d?{passive:false}:undefined);f=true}}};var S=function e(t){if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}l=l.filter((function(e){return e.targetElement!==t}));if(u){t.ontouchstart=null;t.ontouchmove=null;if(f&&l.length===0){document.removeEventListener("touchmove",w,d?{passive:false}:undefined);f=false}}if(u){x()}else{b()}};const B="go-overlay{--go-overlay-color:rgba(var(--go-token-darkest), 0.8);--go-overlay-close-btn-text-color:var(--go-color-lightest);transition:opacity var(--go-duration-normal) var(--go-timing-function);position:fixed;top:0;left:0;right:0;bottom:0;width:0;height:0;overflow:auto;opacity:0;z-index:var(--layer-important)}@media (prefers-reduced-motion: reduce){go-overlay{transition-duration:0s}}go-overlay .close-btn-wrapper go-button{--go-btn-text-color:var(--go-overlay-close-btn-text-color)}go-overlay .overlay-bg{position:absolute;top:0;left:0;right:0;bottom:0}go-overlay .overlay-content{position:relative;visibility:hidden}go-overlay.active{background:var(--go-overlay-color);width:100%;height:100%;opacity:1}go-overlay.active .overlay-content{visibility:visible}:where([color-scheme=dark],[data-theme=dark]) go-overlay{--go-overlay-color:rgba(var(--go-token-darkest), 0.8);--go-overlay-close-btn-text-color:var(--go-text-color)}";const E=B;const O=class{constructor(o){e(this,o);this.openEvent=t(this,"overlayOpen",7);this.closeEvent=t(this,"overlayClose",7);this.inheritedAttrs={};this.active=false;this.persistent=false}componentWillLoad(){this.inheritedAttrs=r(this.el,["class","style"],false);const e=document.querySelector("body");e.appendChild(this.el)}componentDidLoad(){if(!this.persistent){this.el.addEventListener("click",(e=>{if(this.active){if(e.target===this.bgEl){e.preventDefault();this.close()}}}))}}async close(){var e;this.closeEvent.emit();S(this.el);this.active=false;(e=this.originator)===null||e===void 0?void 0:e.focus();this.el.style.visibility="hidden"}async open(){this.originator=document.activeElement;this.openEvent.emit();I(this.el);this.el.style.visibility="visible";this.active=true;if(!this.persistent){document.addEventListener("keydown",(e=>{if(this.active){if(e.code==="Escape"){this.close()}}}))}a(this.el)}watchActiveHandler(e){if(e){this.open();return}this.close()}render(){const{active:e,inheritedAttrs:t}=this;return o(n,Object.assign({key:"40487b7dc4613247374351d9717a839b57134fee",class:{active:e}},t),o("div",{key:"d987d6c1d03f40bde84eb192f45c994cf0ff0231",class:"overlay-bg",ref:e=>this.bgEl=e}),o("div",{key:"101a5b3e63036d99086a31a44e8ab2b86282839d",class:"overlay-content"},o("slot",{key:"ca4041cc9384f00650321c3364e69b30bb946e95"})))}get el(){return i(this)}static get watchers(){return{active:["watchActiveHandler"]}}};O.style=E;export{O as go_overlay};
//# sourceMappingURL=p-a2c3cb9a.entry.js.map