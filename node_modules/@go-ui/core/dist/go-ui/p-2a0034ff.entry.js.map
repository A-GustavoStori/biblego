{"version":3,"names":["goContentLayoutCss","GoContentLayoutStyle0","GoContentLayout","this","hasSidebar","initToc","tocEl","init","componentWillLoad","hasSlot","el","watchDevice","device","sidebarMobilePosition","sidebarDesktopPosition","deviceSidebarPosition","mobile","tablet","desktop","large","computedSidebarPosition","adjustSidebarPosition","pos","sidebarTemplate","tempSidebar","style","display","setAttribute","sidebarContainerStart","appendChild","_a","sidebarContainerEnd","componentDidLoad","render","pageHeading","intro","preHeading","breadcrumbs","toc","tocProps","sidebarSticky","sticky","noHero","classes","start","end","h","Host","key","ref","id","class","Object","assign","name","heading"],"sources":["src/patterns/go-content-layout/go-content-layout.scss?tag=go-content-layout","src/patterns/go-content-layout/go-content-layout.tsx"],"sourcesContent":["go-content-layout {\n  --content-container-padding: 2rem 0;\n\n  display: block;\n  .content-container {\n    position: relative;\n    padding: var(--content-container-padding);\n    @include desktop {\n      > .row {\n        align-items: flex-start;\n      }\n      .sticky {\n        position: sticky;\n        top: 0;\n        bottom: 0;\n      }\n    }\n  }\n}\n","import { Component, Host, h, Element, Prop, Method, State, Watch } from '@stencil/core';\nimport { TocProps } from '../../components/go-toc/go-toc';\nimport { INavItem } from '../../interfaces';\nimport { watchDevice } from '../../utils/match-media';\nimport { hasSlot } from '../../utils/helper';\n\nexport type SidebarPosition = 'start' | 'end';\n\nexport interface ContentLayoutProps {\n  pageHeading: string;\n  preHeading?: string;\n  intro?: string;\n  breadcrumbs?: INavItem[] | string;\n  heroImgSrc?: string;\n  heroImgAlt?: string;\n  toc?: boolean;\n  tocProps?: TocProps;\n  sidebarMobilePosition?: SidebarPosition;\n  sidebarDesktopPosition?: SidebarPosition;\n}\n\n/**\n * @slot intro - Hero section intro text\n * @slot main - Main section\n */\n@Component({\n  tag: 'go-content-layout',\n  styleUrl: 'go-content-layout.scss',\n  shadow: false,\n})\nexport class GoContentLayout implements ContentLayoutProps {\n  @Element() el: HTMLElement;\n\n  @Prop() pageHeading: string;\n\n  @Prop() preHeading?: string;\n\n  @Prop() intro?: string;\n\n  @Prop() breadcrumbs?: INavItem[] | string;\n\n  @Prop() heroImgSrc?: string;\n\n  @Prop() heroImgAlt?: string;\n\n  /**\n   * no hero banner\n   */\n  @Prop() noHero?: boolean = false;\n\n  /**\n   * If the \"On this page\" table of content section should be displayed\n   */\n  @Prop() toc?: boolean;\n  /**\n   * Props to pass into the table of content ([see `go-toc` props](/docs/components/go-toc#go-toc-props))\n   */\n  @Prop() tocProps?: TocProps;\n  /**\n   * sidebar position on mobile screens\n   * possible values are `start` and `end`\n   */\n  @Prop() sidebarMobilePosition?: SidebarPosition = 'start';\n\n  /**\n   * sidebar position on desktop screens\n   * possible values are `start` and `end`\n   */\n  @Prop() sidebarDesktopPosition?: SidebarPosition = 'start';\n\n  /**\n   * If sidebar should be sticky\n   */\n  @Prop() sidebarSticky? = false;\n  tocEl: HTMLGoTocElement;\n\n  sidebarTemplate: HTMLElement;\n\n  sidebarContainerStart: HTMLElement;\n  sidebarContainerEnd: HTMLElement;\n\n  @Method()\n  async initToc() {\n    if (this.tocEl) {\n      await this.tocEl.init();\n    }\n  }\n\n  @State() computedSidebarPosition: SidebarPosition | null = null;\n  hasSidebar = false;\n  async componentWillLoad() {\n    this.hasSidebar = hasSlot(this.el, 'sidebar');\n    // add resize observer to toggle between mobile and desktop\n    watchDevice((device) => {\n      const { sidebarMobilePosition, sidebarDesktopPosition } = this;\n      const deviceSidebarPosition = {\n        mobile: sidebarMobilePosition,\n        tablet: sidebarMobilePosition,\n        desktop: sidebarDesktopPosition,\n        large: sidebarDesktopPosition,\n      };\n\n      this.computedSidebarPosition = deviceSidebarPosition[device];\n    });\n  }\n\n  rowEl: HTMLElement;\n\n  @Watch('computedSidebarPosition')\n  adjustSidebarPosition(pos: SidebarPosition | null) {\n    if (!this.hasSidebar || !this.sidebarTemplate) {\n      return;\n    }\n    const tempSidebar = this.sidebarTemplate;\n    tempSidebar.style.display = 'block';\n    tempSidebar.setAttribute('aria-hidden', 'false');\n    if (pos === 'start') {\n      this.sidebarContainerStart.appendChild(tempSidebar);\n    } else {\n      this.sidebarContainerEnd?.appendChild(tempSidebar);\n    }\n  }\n\n  componentDidLoad() {\n    this.initToc();\n  }\n\n  render() {\n    const { pageHeading, intro, preHeading, breadcrumbs, toc, tocProps, hasSidebar, computedSidebarPosition, sidebarSticky: sticky, noHero } = this;\n\n    const classes = {\n      start:\n        computedSidebarPosition === 'start'\n          ? {\n              'content-sidebar col-12 col-desktop-3': true,\n              sticky,\n            }\n          : null,\n      end:\n        computedSidebarPosition === 'end'\n          ? {\n              'content-sidebar col-12 col-desktop-3 offset-desktop-1': true,\n              sticky,\n            }\n          : null,\n    };\n\n    return (\n      <Host>\n        <div ref={(el) => (this.sidebarTemplate = el)} id=\"sidebar-template\" aria-hidden={true} style={{ display: 'none' }}>\n          <div class={{ 'content-sidebar': true, sticky }}>\n            {toc && <go-toc {...tocProps} ref={(el) => (this.tocEl = el)}></go-toc>}\n            <slot name=\"sidebar\"></slot>\n          </div>\n        </div>\n        {!noHero && (\n          <go-hero breadcrumbs={breadcrumbs} preHeading={preHeading} heading={pageHeading}>\n            <slot name=\"full-width-bg\"></slot>\n            <slot name=\"intro\">\n              <p>{intro}</p>\n            </slot>\n          </go-hero>\n        )}\n        <div class=\"container content-container\">\n          <div class=\"row\">\n            {hasSidebar && <aside ref={(el) => (this.sidebarContainerStart = el)} class={classes.start}></aside>}\n            <main\n              class={{\n                'col-12 col-desktop-8 content-main': true,\n                'offset-desktop-1': hasSidebar && computedSidebarPosition === 'start',\n              }}>\n              {!hasSidebar && toc && <go-toc {...tocProps} ref={(el) => (this.tocEl = el)}></go-toc>}\n              <slot></slot>\n            </main>\n            {hasSidebar && <aside ref={(el) => (this.sidebarContainerEnd = el)} class={classes.end}></aside>}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"oJAAA,MAAMA,EAAqB,+UAC3B,MAAAC,EAAeD,E,MC6BFE,EAAe,M,yBA2D1BC,KAAAC,WAAa,M,qKAzCc,M,sEAcuB,Q,4BAMC,Q,mBAK1B,M,6BAekC,I,CAN3D,aAAMC,GACJ,GAAIF,KAAKG,MAAO,OACRH,KAAKG,MAAMC,M,EAMrB,uBAAMC,GACJL,KAAKC,WAAaK,EAAQN,KAAKO,GAAI,WAEnCC,GAAaC,IACX,MAAMC,sBAAEA,EAAqBC,uBAAEA,GAA2BX,KAC1D,MAAMY,EAAwB,CAC5BC,OAAQH,EACRI,OAAQJ,EACRK,QAASJ,EACTK,MAAOL,GAGTX,KAAKiB,wBAA0BL,EAAsBH,EAAO,G,CAOhE,qBAAAS,CAAsBC,G,MACpB,IAAKnB,KAAKC,aAAeD,KAAKoB,gBAAiB,CAC7C,M,CAEF,MAAMC,EAAcrB,KAAKoB,gBACzBC,EAAYC,MAAMC,QAAU,QAC5BF,EAAYG,aAAa,cAAe,SACxC,GAAIL,IAAQ,QAAS,CACnBnB,KAAKyB,sBAAsBC,YAAYL,E,KAClC,EACLM,EAAA3B,KAAK4B,uBAAmB,MAAAD,SAAA,SAAAA,EAAED,YAAYL,E,EAI1C,gBAAAQ,GACE7B,KAAKE,S,CAGP,MAAA4B,GACE,MAAMC,YAAEA,EAAWC,MAAEA,EAAKC,WAAEA,EAAUC,YAAEA,EAAWC,IAAEA,EAAGC,SAAEA,EAAQnC,WAAEA,EAAUgB,wBAAEA,EAAyBoB,cAAeC,EAAMC,OAAEA,GAAWvC,KAE3I,MAAMwC,EAAU,CACdC,MACExB,IAA4B,QACxB,CACE,uCAAwC,KACxCqB,UAEF,KACNI,IACEzB,IAA4B,MACxB,CACE,wDAAyD,KACzDqB,UAEF,MAGR,OACEK,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAA,OAAAE,IAAA,2CAAKC,IAAMvC,GAAQP,KAAKoB,gBAAkBb,EAAKwC,GAAG,mBAAkB,cAAc,KAAMzB,MAAO,CAAEC,QAAS,SACxGoB,EAAA,OAAAE,IAAA,2CAAKG,MAAO,CAAE,kBAAmB,KAAMV,WACpCH,GAAOQ,EAAA,SAAAM,OAAAC,OAAA,GAAYd,EAAQ,CAAEU,IAAMvC,GAAQP,KAAKG,MAAQI,KACzDoC,EAAA,QAAAE,IAAA,2CAAMM,KAAK,eAGbZ,GACAI,EAAA,WAAST,YAAaA,EAAaD,WAAYA,EAAYmB,QAASrB,GAClEY,EAAA,QAAMQ,KAAK,kBACXR,EAAA,QAAMQ,KAAK,SACTR,EAAA,SAAIX,KAIVW,EAAA,OAAAE,IAAA,2CAAKG,MAAM,+BACTL,EAAA,OAAAE,IAAA,2CAAKG,MAAM,OACR/C,GAAc0C,EAAA,SAAOG,IAAMvC,GAAQP,KAAKyB,sBAAwBlB,EAAKyC,MAAOR,EAAQC,QACrFE,EAAA,QAAAE,IAAA,2CACEG,MAAO,CACL,oCAAqC,KACrC,mBAAoB/C,GAAcgB,IAA4B,WAE9DhB,GAAckC,GAAOQ,EAAA,SAAAM,OAAAC,OAAA,GAAYd,EAAQ,CAAEU,IAAMvC,GAAQP,KAAKG,MAAQI,KACxEoC,EAAA,QAAAE,IAAA,8CAED5C,GAAc0C,EAAA,SAAOG,IAAMvC,GAAQP,KAAK4B,oBAAsBrB,EAAKyC,MAAOR,EAAQE,Q"}