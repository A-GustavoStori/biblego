{"version":3,"names":["goFieldCss","GoFieldStyle0","GoField","updateErrorState","this","hasError","error","componentWillLoad","hasIconBefore","hasSlot","el","hasIconAfter","hasPrefix","hasSuffix","hasHintSlot","hasLabelSlot","initIdProps","idPrefix","componentDidLoad","updateAttributes","componentDidUpdate","controlEl","querySelector","controlElSelector","warning","prefixId","suffixId","labelId","hint","hintId","errorId","labelledByIds","push","describedByIds","disabled","setAttribute","removeAttribute","join","render","controlId","label","readonly","hiddenInputName","hiddenInputValue","showLabel","showHint","showLabelWrapper","h","Host","key","class","htmlFor","id","name","xmlns","viewBox","fill","d","opacity","type","value"],"sources":["src/components/form/go-field/go-field.scss?tag=go-field","src/components/form/go-field/go-field.tsx"],"sourcesContent":["go-field {\n display: block;\n}\n","import { Component, Host, h, Element, Prop, Watch, State } from '@stencil/core';\nimport { FormFieldProps } from '../../../interfaces';\nimport { hasSlot, initIdProps, warning } from '../../../utils';\n\n@Component({\n  tag: 'go-field',\n  styleUrl: 'go-field.scss',\n  shadow: false,\n})\nexport class GoField implements FormFieldProps {\n  @Element() el: HTMLElement;\n\n  @Prop() idPrefix: string;\n\n  @Prop() controlId: string;\n\n  /**\n   * DOM id for label\n   */\n  @Prop({ mutable: true })\n  labelId?: string;\n\n  /**\n   * DOM id for prefix\n   */\n  @Prop({ mutable: true })\n  prefixId?: string;\n\n  /**\n   * DOM id for suffix\n   */\n  @Prop({ mutable: true })\n  suffixId?: string;\n  /**\n   * DOM id for hint message\n   */\n  @Prop({ mutable: true })\n  hintId?: string;\n\n  /**\n   * DOM id for error\n   */\n  @Prop({ mutable: true })\n  errorId?: string;\n\n  /**\n   * Name of the input field\n   */\n  @Prop() name: string;\n\n  /**\n   * Label of the input field\n   */\n  @Prop() label: string;\n\n  /**\n   * If the input is disabled\n   */\n  @Prop() disabled?: boolean;\n  /**\n   * Hint message for the input\n   */\n  @Prop() hint?: string;\n  /**\n   * Error state of input, text provided will be shown as error message\n   */\n  @Prop() error?: boolean | string;\n  /**\n   * If this input is read-only\n   */\n  @Prop() readonly?: boolean;\n\n  /**\n   * Allow empty value for `error` attribute and show error state\n   */\n  @State() hasError = false;\n\n  /**\n   * If specified, an input element with `type=\"hidden\"` will be generated\n   * and this hiddenName prop will be used as the `name` of the hidden input\n   *\n   * use `hiddenInputValue` prop to set the value of that field\n   */\n  @Prop() hiddenInputName?: string;\n\n  /**\n   * Sets the value of the hidden input created by `hiddenInputName`\n   */\n  @Prop() hiddenInputValue?: string;\n\n  @Watch('error')\n  updateErrorState() {\n    this.hasError = !!this.error;\n  }\n\n  hasIconBefore: boolean;\n  hasIconAfter: boolean;\n  hasPrefix: boolean;\n  hasSuffix: boolean;\n  hasHintSlot: boolean;\n  hasLabelSlot: boolean;\n\n  componentWillLoad() {\n    this.hasIconBefore = hasSlot(this.el, 'icon-before');\n    this.hasIconAfter = hasSlot(this.el, 'icon-after');\n    this.hasPrefix = hasSlot(this.el, 'prefix');\n    this.hasSuffix = hasSlot(this.el, 'suffix');\n    this.hasHintSlot = hasSlot(this.el, 'hint');\n    this.hasLabelSlot = hasSlot(this.el, 'label');\n    initIdProps(this, this.el, ['label', 'prefix', 'suffix', 'hint', 'error'], this.idPrefix);\n    this.updateErrorState();\n  }\n\n  @Prop() controlElSelector = '.control';\n  controlEl: HTMLElement;\n  componentDidLoad() {\n    this.updateAttributes();\n  }\n  componentDidUpdate() {\n    this.updateAttributes();\n  }\n\n  updateAttributes() {\n    if (!this.controlEl) {\n      this.controlEl = this.el.querySelector(this.controlElSelector);\n      if (!this.controlEl) {\n        warning(\n          `Cannot find field control based on selector ${this.controlElSelector}. Make sure the element exists in the DOM`,\n        );\n        return;\n      }\n    }\n\n    const { hasPrefix, hasSuffix, prefixId, suffixId, labelId, hasHintSlot, hint, hintId, hasError, errorId } = this;\n\n    const labelledByIds = [];\n    if (hasPrefix) {\n      labelledByIds.push(prefixId);\n    }\n    labelledByIds.push(labelId);\n    if (hasSuffix) {\n      labelledByIds.push(suffixId);\n    }\n\n    const describedByIds = [];\n    if (hasHintSlot || hint) {\n      describedByIds.push(hintId);\n    }\n    if (hasError) {\n      describedByIds.push(errorId);\n    }\n    if (this.disabled) {\n      this.controlEl.setAttribute('disabled', 'true');\n      this.controlEl.setAttribute('aria-disabled', 'true');\n    } else {\n      this.controlEl.removeAttribute('disabled');\n      this.controlEl.removeAttribute('aria-disabled');\n    }\n    this.controlEl.setAttribute('aria-labelledby', labelledByIds.join(' '));\n    this.controlEl.setAttribute('aria-describedby', describedByIds.join(' '));\n  }\n\n  render() {\n    const {\n      controlId,\n      label,\n      hasLabelSlot,\n      hint,\n      disabled,\n      hasError,\n      error,\n      readonly,\n      hasIconAfter,\n      hasIconBefore,\n      hasPrefix,\n      hasSuffix,\n      hasHintSlot,\n      labelId,\n      hintId,\n      prefixId,\n      suffixId,\n      errorId,\n      hiddenInputName,\n      hiddenInputValue,\n    } = this;\n\n    const showLabel = hasLabelSlot || label;\n    const showHint = hasHintSlot || hint;\n    const showLabelWrapper = showLabel || showHint;\n    return (\n      <Host\n        class={{\n          'go-field': true,\n          'error': hasError,\n          'readonly': !!readonly,\n          'disabled': !!disabled,\n          'has-prefix': hasPrefix,\n          'has-suffix': hasSuffix,\n          'has-icon-before': hasIconBefore,\n          'has-icon-after': hasIconAfter,\n        }}>\n        {showLabelWrapper ? (\n          <div class=\"label-wrapper\">\n            {showLabel ? (\n              <label class=\"label\" htmlFor={controlId} id={labelId}>\n                {label}\n              </label>\n            ) : null}\n            {showHint ? (\n              <div class=\"hint\" id={hintId}>\n                <slot name=\"hint\">{hint}</slot>\n              </div>\n            ) : null}\n          </div>\n        ) : null}\n\n        <div class=\"control-wrapper\">\n          {hasPrefix ? (\n            <span class=\"prefix presuf\" aria-hidden=\"true\" id={prefixId}>\n              <slot name=\"prefix\"></slot>\n            </span>\n          ) : null}\n\n          {hasIconBefore ? (\n            <span class=\"control-icon icon-before\">\n              <slot name=\"icon-before\"></slot>\n            </span>\n          ) : null}\n          <slot></slot>\n\n          {hasSuffix ? (\n            <span class=\"suffix presuf\" aria-hidden=\"true\" id={suffixId}>\n              <slot name=\"suffix\"></slot>\n            </span>\n          ) : null}\n\n          {readonly || hasIconAfter ? (\n            <span class=\"control-icon icon-after\">\n              {readonly ? (\n                // prettier-ignore\n                <svg class=\"lock-icon\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><g fill=\"none\"><path d=\"M0 0h24v24H0V0z\"/><path d=\"M0 0h24v24H0V0z\" opacity=\".87\"/></g><path d=\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z\"/></svg>\n              ) : (\n                <slot name=\"icon-after\"></slot>\n              )}\n            </span>\n          ) : null}\n        </div>\n        {hasError ? (\n          <div id={errorId} class=\"error-msg\">\n            {error}\n          </div>\n        ) : null}\n\n        {hiddenInputName ? <input type=\"hidden\" name={hiddenInputName} value={hiddenInputValue} /> : null}\n      </Host>\n    );\n  }\n}\n"],"mappings":"2JAAA,MAAMA,EAAa,0BACnB,MAAAC,EAAeD,E,MCQFE,EAAO,M,8UAkEE,M,sFAsCQ,U,CAtB5B,gBAAAC,GACEC,KAAKC,WAAaD,KAAKE,K,CAUzB,iBAAAC,GACEH,KAAKI,cAAgBC,EAAQL,KAAKM,GAAI,eACtCN,KAAKO,aAAeF,EAAQL,KAAKM,GAAI,cACrCN,KAAKQ,UAAYH,EAAQL,KAAKM,GAAI,UAClCN,KAAKS,UAAYJ,EAAQL,KAAKM,GAAI,UAClCN,KAAKU,YAAcL,EAAQL,KAAKM,GAAI,QACpCN,KAAKW,aAAeN,EAAQL,KAAKM,GAAI,SACrCM,EAAYZ,KAAMA,KAAKM,GAAI,CAAC,QAAS,SAAU,SAAU,OAAQ,SAAUN,KAAKa,UAChFb,KAAKD,kB,CAKP,gBAAAe,GACEd,KAAKe,kB,CAEP,kBAAAC,GACEhB,KAAKe,kB,CAGP,gBAAAA,GACE,IAAKf,KAAKiB,UAAW,CACnBjB,KAAKiB,UAAYjB,KAAKM,GAAGY,cAAclB,KAAKmB,mBAC5C,IAAKnB,KAAKiB,UAAW,CACnBG,EACE,+CAA+CpB,KAAKmB,8DAEtD,M,EAIJ,MAAMX,UAAEA,EAASC,UAAEA,EAASY,SAAEA,EAAQC,SAAEA,EAAQC,QAAEA,EAAOb,YAAEA,EAAWc,KAAEA,EAAIC,OAAEA,EAAMxB,SAAEA,EAAQyB,QAAEA,GAAY1B,KAE5G,MAAM2B,EAAgB,GACtB,GAAInB,EAAW,CACbmB,EAAcC,KAAKP,E,CAErBM,EAAcC,KAAKL,GACnB,GAAId,EAAW,CACbkB,EAAcC,KAAKN,E,CAGrB,MAAMO,EAAiB,GACvB,GAAInB,GAAec,EAAM,CACvBK,EAAeD,KAAKH,E,CAEtB,GAAIxB,EAAU,CACZ4B,EAAeD,KAAKF,E,CAEtB,GAAI1B,KAAK8B,SAAU,CACjB9B,KAAKiB,UAAUc,aAAa,WAAY,QACxC/B,KAAKiB,UAAUc,aAAa,gBAAiB,O,KACxC,CACL/B,KAAKiB,UAAUe,gBAAgB,YAC/BhC,KAAKiB,UAAUe,gBAAgB,gB,CAEjChC,KAAKiB,UAAUc,aAAa,kBAAmBJ,EAAcM,KAAK,MAClEjC,KAAKiB,UAAUc,aAAa,mBAAoBF,EAAeI,KAAK,K,CAGtE,MAAAC,GACE,MAAMC,UACJA,EAASC,MACTA,EAAKzB,aACLA,EAAYa,KACZA,EAAIM,SACJA,EAAQ7B,SACRA,EAAQC,MACRA,EAAKmC,SACLA,EAAQ9B,aACRA,EAAYH,cACZA,EAAaI,UACbA,EAASC,UACTA,EAASC,YACTA,EAAWa,QACXA,EAAOE,OACPA,EAAMJ,SACNA,EAAQC,SACRA,EAAQI,QACRA,EAAOY,gBACPA,EAAeC,iBACfA,GACEvC,KAEJ,MAAMwC,EAAY7B,GAAgByB,EAClC,MAAMK,EAAW/B,GAAec,EAChC,MAAMkB,EAAmBF,GAAaC,EACtC,OACEE,EAACC,EAAI,CAAAC,IAAA,2CACHC,MAAO,CACL,WAAY,KACZ5C,MAASD,EACToC,WAAcA,EACdP,WAAcA,EACd,aAActB,EACd,aAAcC,EACd,kBAAmBL,EACnB,iBAAkBG,IAEnBmC,EACCC,EAAA,OAAKG,MAAM,iBACRN,EACCG,EAAA,SAAOG,MAAM,QAAQC,QAASZ,EAAWa,GAAIzB,GAC1Ca,GAED,KACHK,EACCE,EAAA,OAAKG,MAAM,OAAOE,GAAIvB,GACpBkB,EAAA,QAAMM,KAAK,QAAQzB,IAEnB,MAEJ,KAEJmB,EAAA,OAAAE,IAAA,2CAAKC,MAAM,mBACRtC,EACCmC,EAAA,QAAMG,MAAM,gBAAe,cAAa,OAAOE,GAAI3B,GACjDsB,EAAA,QAAMM,KAAK,YAEX,KAEH7C,EACCuC,EAAA,QAAMG,MAAM,4BACVH,EAAA,QAAMM,KAAK,iBAEX,KACJN,EAAA,QAAAE,IAAA,6CAECpC,EACCkC,EAAA,QAAMG,MAAM,gBAAe,cAAa,OAAOE,GAAI1B,GACjDqB,EAAA,QAAMM,KAAK,YAEX,KAEHZ,GAAY9B,EACXoC,EAAA,QAAMG,MAAM,2BACTT,EAECM,EAAA,OAAKG,MAAM,YAAW,cAAa,OAAOI,MAAM,6BAA6BC,QAAQ,aAAYR,EAAA,KAAGS,KAAK,QAAOT,EAAA,QAAMU,EAAE,oBAAmBV,EAAA,QAAMU,EAAE,kBAAkBC,QAAQ,SAAWX,EAAA,QAAMU,EAAE,iOAEhMV,EAAA,QAAMM,KAAK,gBAGb,MAELhD,EACC0C,EAAA,OAAKK,GAAItB,EAASoB,MAAM,aACrB5C,GAED,KAEHoC,EAAkBK,EAAA,SAAOY,KAAK,SAASN,KAAMX,EAAiBkB,MAAOjB,IAAuB,K"}