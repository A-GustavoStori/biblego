import{r as s,c as e,h as t,g as i}from"./p-02398fa0.js";import{w as a,b as n}from"./p-6ccc0475.js";import{o,i as h}from"./p-42cfbc6e.js";import"./p-4b4ba6fd.js";import"./p-2acfdb5a.js";const c=class{constructor(t){s(this,t);this.toggleEvent=e(this,"toggle",7);this.clickOutsideCleanUp=null;this.escapeCleanUp=null;this.hasHeaderSlot=false;this.columns=1;this.isOpen=false}async open(){this.isOpen=true;this.toggleEvent.emit({isOpen:true});window.requestAnimationFrame((()=>{this.clickOutsideCleanUp=o(this.el,(()=>this.close()));this.escapeCleanUp=h(document,(()=>this.close()))}))}async close(){this.isOpen=false;this.toggleEvent.emit({isOpen:false});this.clickOutsideCleanUp&&this.clickOutsideCleanUp();this.escapeCleanUp&&this.escapeCleanUp()}async toggle(){if(this.isOpen){this.close()}else{this.open()}}componentWillLoad(){this.parentNavItem=this.el.closest("go-nav-item");if(!this.parentNavItem){a("<go-nav-submenu> must be a child of <go-nav-item>",this.el);return}this.hasHeaderSlot=n(this.el,"submenu-header")}render(){const{columns:s,isOpen:e,hasHeaderSlot:i}=this;return t("div",{key:"ac5bc09df1a4ebbb7996e60832e3a2899f38bfa1",class:{"submenu-container":true,open:e},style:{"--submenu-columns":String(s)}},i?t("div",{class:"submenu-header"},t("slot",{name:"submenu-header"})):null,t("div",{key:"196f1c3f4ebc2de3d75de0967655f1b6fd08d95c",class:"submenu-body"},t("slot",{key:"00194d39b83582368dce9e42e9eb2e22c01d87f7"})))}get el(){return i(this)}};const r=class{constructor(e){s(this,e);this.controls=undefined;this.isOpen=false}loadSubmenuEl(){if(this.controls){this.submenuEl=document.getElementById(this.controls);if(!this.submenuEl){a("<go-nav-submenu-trigger> is missing <go-nav-submenu> with id: "+this.controls,this.el)}this.submenuEl.addEventListener("toggle",(s=>{this.isOpen=s.detail.isOpen}))}}toggleOpenState(){this.submenuEl.toggle()}componentDidLoad(){this.loadSubmenuEl()}render(){const s="button";return t(s,{key:"0afb1549dd2e97a8e0b65ab254720b894be26040",class:"nav-item-inner",onClick:()=>this.toggleOpenState(),type:"button","aria-haspopup":"true","aria-controls":this.controls?this.controls:undefined,"aria-expanded":this.isOpen?"true":"false"},t("span",{key:"6bbbeafa1cdfccd4b2cf37440863a8f5154e3e4e",class:"nav-item-label"},t("slot",{key:"685ccffaf7270fee2aa2106aa6c0e2bafe21b5e5"})),t("svg",{key:"9f8b1a268ad2f5a790c13fda3b6839a774e52f8b",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},t("path",{key:"d6be239226be1c3a2fba2ee68dcbacaddb44c4c8",d:"m6 9 6 6 6-6"})))}get el(){return i(this)}};export{c as go_nav_submenu,r as go_nav_submenu_trigger};
//# sourceMappingURL=p-58a59ad3.entry.js.map