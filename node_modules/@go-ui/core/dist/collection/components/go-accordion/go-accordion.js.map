{"version":3,"file":"go-accordion.js","sourceRoot":"","sources":["../../../src/components/go-accordion/go-accordion.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AAC1E,OAAO,EAAE,oBAAoB,EAAE,MAAM,oBAAoB,CAAC;AAE1D;;GAEG;AAMH,MAAM,OAAO,WAAW;;wBAKO,KAAK;;IAMlC,iBAAiB;QACf,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAiC,CAAC;IAC5E,CAAC;IACD,gBAAgB;QACd,iFAAiF;QACjF,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YACnB,IAAI,CAAC,UAAU,GAAG,oBAAoB,CAAC,IAAI,CAAC,EAAE,EAAE,2BAA2B,CAAC,CAAC,CAAC,CAA+B,CAAC;YAC9G,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;gBACpB,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;YACzB,CAAC;YACD,IAAI,CAAC,cAAc,EAAE,CAAC;QACxB,CAAC;IACH,CAAC;IAGD,WAAW,CAAC,CAAQ;QAClB,CAAC,CAAC,eAAe,EAAE,CAAC;QACpB,MAAM,WAAW,GAAG,CAAC,CAAC,MAAoC,CAAC;QAC3D,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YACnB,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC;YAC9B,IAAI,CAAC,cAAc,EAAE,CAAC;QACxB,CAAC;IACH,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;YAC1B,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;gBACtC,IAAI,CAAC,KAAK,EAAE,CAAC;YACf,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,MAAM;QACJ,OAAO,CACL,EAAC,IAAI;YACH,8DAAa,CACR,CACR,CAAC;IACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, Host, h, Prop, Element, Listen } from '@stencil/core';\nimport { selectDirectChildren } from '../../utils/helper';\n\n/**\n *\n */\n@Component({\n  tag: 'go-accordion',\n  styleUrl: 'go-accordion.scss',\n  shadow: false,\n})\nexport class GoAccordion {\n  @Element() el: HTMLElement;\n  /**\n   * If true, multiple `<go-accordion-item>`s can be opened at the same time\n   */\n  @Prop() multiple?: boolean = false;\n\n  activeItem: HTMLGoAccordionItemElement;\n\n  items: HTMLGoAccordionItemElement[];\n\n  componentWillLoad() {\n    this.items = Array.from(this.el.children) as HTMLGoAccordionItemElement[];\n  }\n  componentDidLoad() {\n    // if there's any active accordion item, show them by default and close the rest.\n    if (!this.multiple) {\n      this.activeItem = selectDirectChildren(this.el, 'go-accordion-item[active]')[0] as HTMLGoAccordionItemElement;\n      if (this.activeItem) {\n        this.activeItem.open();\n      }\n      this.closeNonActive();\n    }\n  }\n\n  @Listen('opened')\n  openHandler(e: Event) {\n    e.stopPropagation();\n    const eventTarget = e.target as HTMLGoAccordionItemElement;\n    if (!this.multiple) {\n      this.activeItem = eventTarget;\n      this.closeNonActive();\n    }\n  }\n\n  closeNonActive() {\n    this.items.forEach((item) => {\n      if (!item.isSameNode(this.activeItem)) {\n        item.close();\n      }\n    });\n  }\n\n  render() {\n    return (\n      <Host>\n        <slot></slot>\n      </Host>\n    );\n  }\n}\n"]}