{"version":3,"file":"go-nav-submenu.js","sourceRoot":"","sources":["../../../../src/components/navigation/go-nav-bar/go-nav-submenu.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,OAAO,EAAE,cAAc,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,SAAS,CAAC;AACrE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,EAAgB,OAAO,EAAE,MAAM,eAAe,CAAC;AAKhG,MAAM,OAAO,YAAY;;QA8CvB,wBAAmB,GAAG,IAAI,CAAC;QAC3B,kBAAa,GAAG,IAAI,CAAC;QACrB,kBAAa,GAAG,KAAK,CAAC;uBA7CI,CAAC;sBAEA,KAAK;;IAUhC,KAAK,CAAC,IAAI;QACR,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;QAExC,MAAM,CAAC,qBAAqB,CAAC,GAAG,EAAE;YAChC,+BAA+B;YAC/B,IAAI,CAAC,mBAAmB,GAAG,cAAc,CAAC,IAAI,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;YACvE,qBAAqB;YACrB,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,QAAQ,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;QAC9D,CAAC,CAAC,CAAC;IACL,CAAC;IAGD,KAAK,CAAC,KAAK;QACT,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;QAEzC,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;QACvD,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;IAC7C,CAAC;IAGD,KAAK,CAAC,MAAM;QACV,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;YAChB,IAAI,CAAC,KAAK,EAAE,CAAC;QACf,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,IAAI,EAAE,CAAC;QACd,CAAC;IACH,CAAC;IAMD,iBAAiB;QACf,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QACpD,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;YACxB,OAAO,CAAC,mDAAmD,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;YACtE,OAAO;QACT,CAAC;QAED,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,IAAI,CAAC,EAAE,EAAE,gBAAgB,CAAC,CAAC;IAC1D,CAAC;IAED,MAAM;QACJ,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,aAAa,EAAE,GAAG,IAAI,CAAC;QAChD,OAAO,CACL,4DAAK,KAAK,EAAE,EAAE,mBAAmB,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,EAAE,KAAK,EAAE,EAAE,mBAAmB,EAAE,MAAM,CAAC,OAAO,CAAC,EAAE;YACvG,aAAa,CAAC,CAAC,CAAC,CACf,WAAK,KAAK,EAAC,gBAAgB;gBACzB,YAAM,IAAI,EAAC,gBAAgB,GAAQ,CAC/B,CACP,CAAC,CAAC,CAAC,IAAI;YACR,4DAAK,KAAK,EAAC,cAAc;gBACvB,8DAAa,CACT,CACF,CACP,CAAC;IACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { hasSlot, onClickOutside, onEscape, warning } from '@/utils';\nimport { Component, Method, Prop, h, State, Event, EventEmitter, Element } from '@stencil/core';\n\n@Component({\n  tag: 'go-nav-submenu',\n})\nexport class GoNavSubmenu {\n  @Element() el: HTMLElement;\n\n  @Prop() columns: number = 1;\n\n  @State() isOpen: boolean = false;\n\n  @Event({\n    eventName: 'toggle',\n    cancelable: true,\n    bubbles: true,\n  })\n  toggleEvent: EventEmitter;\n\n  @Method()\n  async open() {\n    this.isOpen = true;\n    this.toggleEvent.emit({ isOpen: true });\n\n    window.requestAnimationFrame(() => {\n      // click outside to close menus\n      this.clickOutsideCleanUp = onClickOutside(this.el, () => this.close());\n      // esc to close menus\n      this.escapeCleanUp = onEscape(document, () => this.close());\n    });\n  }\n\n  @Method()\n  async close() {\n    this.isOpen = false;\n    this.toggleEvent.emit({ isOpen: false });\n\n    this.clickOutsideCleanUp && this.clickOutsideCleanUp();\n    this.escapeCleanUp && this.escapeCleanUp();\n  }\n\n  @Method()\n  async toggle() {\n    if (this.isOpen) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  parentNavItem: HTMLGoNavItemElement;\n  clickOutsideCleanUp = null;\n  escapeCleanUp = null;\n  hasHeaderSlot = false;\n  componentWillLoad() {\n    this.parentNavItem = this.el.closest('go-nav-item');\n    if (!this.parentNavItem) {\n      warning('<go-nav-submenu> must be a child of <go-nav-item>', this.el);\n      return;\n    }\n\n    this.hasHeaderSlot = hasSlot(this.el, 'submenu-header');\n  }\n\n  render() {\n    const { columns, isOpen, hasHeaderSlot } = this;\n    return (\n      <div class={{ 'submenu-container': true, 'open': isOpen }} style={{ '--submenu-columns': String(columns) }}>\n        {hasHeaderSlot ? (\n          <div class=\"submenu-header\">\n            <slot name=\"submenu-header\"></slot>\n          </div>\n        ) : null}\n        <div class=\"submenu-body\">\n          <slot></slot>\n        </div>\n      </div>\n    );\n  }\n}\n"]}