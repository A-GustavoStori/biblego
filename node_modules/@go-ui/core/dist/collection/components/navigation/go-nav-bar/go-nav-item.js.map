{"version":3,"file":"go-nav-item.js","sourceRoot":"","sources":["../../../../src/components/navigation/go-nav-bar/go-nav-item.tsx"],"names":[],"mappings":"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","sourcesContent":["import { INavItem } from '@/interfaces';\nimport { hasSlot, parseJsonProp } from '@/utils';\nimport { Component, Host, Prop, State, h, Event, EventEmitter, Element, Watch } from '@stencil/core';\nimport { renderIcon } from '../nav-helpers';\nimport { uniqueId } from 'lodash-es';\n\n@Component({\n  tag: 'go-nav-item',\n})\nexport class GoNavItem {\n  @Element() el: HTMLElement;\n\n  @Prop() item: INavItem | string;\n\n  submenuId?: string;\n  @Watch('item')\n  parseItemProp() {\n    this.parsedItem = parseJsonProp(this.item);\n    if (this.parsedItem?.children?.length) {\n      this.submenuId = uniqueId('go-nav-item-submenu-');\n    }\n  }\n\n  @State() parsedItem: INavItem;\n\n  @State() hasSubmenuSlot = false;\n\n  componentWillLoad() {\n    this.parseItemProp();\n\n    this.hasSubmenuSlot = hasSlot(this.el, 'submenu');\n  }\n\n  /**\n   * open state of the submenu, only applicable if\n   * - the `item` property has `children` key, or\n   * - go-nav-item has `submenu` slot\n   */\n  @State() isOpen: boolean = false;\n\n  @Event({\n    eventName: 'navigate',\n    cancelable: true,\n    bubbles: true,\n  })\n  navEvent: EventEmitter;\n\n  @Event({\n    eventName: 'submenutoggle',\n    cancelable: true,\n    bubbles: true,\n  })\n  subMenuToggleEvent: EventEmitter;\n\n  handleSubmenuToggle(isOpen: boolean) {\n    console.log('event triggered', isOpen);\n    this.isOpen = !!isOpen;\n  }\n\n  renderSubMenu(parent: INavItem) {\n    if (!parent) {\n      return;\n    }\n    // if submenu item has children, render the current item and its children\n    if (parent.children?.length > 0) {\n      return (\n        <div class=\"submenu-list-container\">\n          <div class=\"submenu-header\">\n            <go-nav-link block item={parent}></go-nav-link>\n          </div>\n          <ul class=\"submenu-list\">\n            {parent.children.map((child) => (\n              <li>\n                <go-nav-link block item={child}></go-nav-link>\n              </li>\n            ))}\n          </ul>\n        </div>\n      );\n    }\n    return (\n      <div class=\"nav-item\">\n        <go-nav-link block item={parent}></go-nav-link>\n      </div>\n    );\n  }\n\n  render() {\n    const { parsedItem: item, submenuId } = this;\n    let Tag = 'a';\n\n    const hasChildren = item?.children?.length > 0 || this.hasSubmenuSlot;\n    if (item?.isCurrent) {\n      Tag = 'span';\n    }\n    let attrs = null;\n\n    if (Tag === 'a') {\n      attrs = {\n        url: item?.url,\n        onClick: (event) => {\n          this.navEvent.emit({ event, item });\n        },\n        ...item?.linkAttrs,\n      };\n    }\n    return (\n      <Host role=\"listitem\" class={{ 'nav-item': true, 'current': item?.isCurrent }}>\n        <slot>\n          {hasChildren ? (\n            [\n              <go-nav-submenu-trigger controls={submenuId}>\n                <span class=\"nav-item-label\">\n                  {renderIcon(item?.icon)}\n                  <span>{item?.label}</span>\n                </span>\n              </go-nav-submenu-trigger>,\n              <go-nav-submenu id={submenuId} columns={item?.columns}>\n                <go-nav-link slot=\"submenu-header\" block item={item} showArrow></go-nav-link>\n                {item.children.map((child) => this.renderSubMenu(child))}\n              </go-nav-submenu>,\n            ]\n          ) : (\n            <Tag class=\"nav-item-inner\" {...attrs}>\n              <span class=\"nav-item-label\">\n                {renderIcon(item?.icon)}\n                <span>{item?.label}</span>\n              </span>\n            </Tag>\n          )}\n        </slot>\n      </Host>\n    );\n  }\n}\n"]}